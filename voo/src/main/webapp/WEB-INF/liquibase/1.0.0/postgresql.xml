<databaseChangeLog xmlns='http://www.liquibase.org/xml/ns/dbchangelog'
  xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
  xsi:schemaLocation='http://www.liquibase.org/xml/ns/dbchangelog
    http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd'>
    
  <changeSet id="001" author="Bruno">
    <createTable tableName="itinerario">
    	<column autoIncrement="1" incrementBy="1" name="codigo" type="java.sql.types.INTEGER"></column>
    	<column name="origem" type="java.sql.types.VARCHAR(255)"></column>
    	<column name="destino" type="java.sql.types.VARCHAR(255)"></column>
    	<column name="removido" type="java.sql.types.BOOLEAN"></column>
    	<column name="valor" type="java.sql.types.DOUBLE"></column>
    </createTable>
    <addPrimaryKey constraintName="pk_codigo_itinerario" tableName="itinerario" columnNames="codigo"/>
  </changeSet>
  
  <changeSet id="002" author="Bruno">
    <createTable tableName="aeronave">
    	<column autoIncrement="1" incrementBy="1" name="codigo" type="java.sql.types.INTEGER"></column>
    	<column name="descricao" type="java.sql.types.VARCHAR(100)"></column>
    	<column name="removido" type="java.sql.types.BOOLEAN"></column>
    </createTable>
    <addPrimaryKey constraintName="pk_codigo_aeronave" tableName="aeronave" columnNames="codigo"/>
  </changeSet>
 
  <changeSet id="003" author="Bruno">
    <createTable tableName="pessoa">
    	<column autoIncrement="1" incrementBy="1" name="codigo" type="java.sql.types.INTEGER"></column>
    	<column name="nome" type="java.sql.types.VARCHAR(500)"></column>
    	<column name="cpf" type="java.sql.types.VARCHAR(15)"></column>
    	<column name="cnpj" type="java.sql.types.VARCHAR(20)"></column>
    	<column name="endereco" type="java.sql.types.VARCHAR(200)"></column>
    	<column name="data_nascimento" type="java.sql.types.DATE"></column>
    	<column name="estado_civil" type="java.sql.types.VARCHAR(10)"></column>
    	<column name="removido" type="java.sql.types.BOOLEAN"></column>
    </createTable>
    <addPrimaryKey constraintName="pk_codigo_pessoa" tableName="pessoa" columnNames="codigo"/>
  </changeSet>
  
  <changeSet id="004" author="Bruno">
    <createTable tableName="poltrona">
    	<column autoIncrement="1" incrementBy="1" name="codigo" type="java.sql.types.INTEGER"></column>
    	<column name="descricao" type="java.sql.types.VARCHAR(500)"></column>
    	<column name="valor" type="java.sql.types.DOUBLE"></column>
    	<column name="classe" type="java.sql.types.VARCHAR(50)"></column>
    	<column name="detalhes" type="java.sql.types.VARCHAR(200)"></column>
    	<column name="removido" type="java.sql.types.BOOLEAN"></column>
    	<column name="codigo_aeronave" type="java.sql.types.INTEGER"></column>
    </createTable>
    <addPrimaryKey constraintName="pk_codigo_poltrona" tableName="poltrona" columnNames="codigo"/>
    <addForeignKeyConstraint constraintName="fk_codigo_aeronave"
   		 referencedTableName="aeronave" 
   		 referencedColumnNames="codigo"
   		 baseTableName="poltrona" 
   		 baseColumnNames="codigo_aeronave" /> 
  </changeSet>
  
  <changeSet id="005" author="Bruno">
    <createTable tableName="voo">
    	<column autoIncrement="1" incrementBy="1" name="codigo" type="java.sql.types.INTEGER"></column>
    	<column name="horario" type="java.sql.types.TIMESTAMP"></column>
    	<column name="codigo_itinerario" type="java.sql.types.INTEGER"></column>
    	<column name="codigo_aeronave" type="java.sql.types.INTEGER"></column>
    	<column name="removido" type="java.sql.types.BOOLEAN"></column>
    </createTable>
    <addPrimaryKey constraintName="pk_codigo_voo" tableName="poltrona" columnNames="codigo"/>
    <addForeignKeyConstraint constraintName="fk_codigo_aeronave"
   		 referencedTableName="aeronave" 
   		 referencedColumnNames="codigo"
   		 baseTableName="voo" 
   		 baseColumnNames="codigo_aeronave" /> 
	 <addForeignKeyConstraint constraintName="fk_codigo_itinerario"
 		 referencedTableName="itinerario" 
 		 referencedColumnNames="codigo"
 		 baseTableName="voo" 
 		 baseColumnNames="codigo_itinerario" />
  </changeSet>
 
 <changeSet id="006" author="Bruno">
    <createTable tableName="passageiro">
    	<column autoIncrement="1" incrementBy="1" name="codigo" type="java.sql.types.INTEGER"></column>
    	<column name="codigo_pessoa" type="java.sql.types.INTEGER"></column>
    	<column name="codigo_responsavel" type="java.sql.types.INTEGER"></column>
    	<column name="removido" type="java.sql.types.BOOLEAN"></column>
    </createTable>
    <addPrimaryKey constraintName="pk_codigo_passageiro" tableName="passageiro" columnNames="codigo"/>
    <addForeignKeyConstraint constraintName="fk_codigo_pessoa"
   		 referencedTableName="pessoa" 
   		 referencedColumnNames="codigo"
   		 baseTableName="passageiro" 
   		 baseColumnNames="codigo_pessoa" /> 
	 <addForeignKeyConstraint constraintName="fk_codigo_passageiro"
 		 referencedTableName="passageiro" 
 		 referencedColumnNames="codigo"
 		 baseTableName="passageiro" 
 		 baseColumnNames="codigo_passageiro" />
  </changeSet>
  
  <changeSet id="007" author="Bruno">
    <createTable tableName="cliente">
    	<column autoIncrement="1" incrementBy="1" name="codigo" type="java.sql.types.INTEGER"></column>
    	<column name="codigo_pessoa" type="java.sql.types.INTEGER"></column>
    	<column name="milhagem" type="java.sql.types.INTEGER"></column>
    	<column name="removido" type="java.sql.types.BOOLEAN"></column>
    </createTable>
    <addPrimaryKey constraintName="pk_codigo_passageiro" tableName="passageiro" columnNames="codigo"/>
    <addForeignKeyConstraint constraintName="fk_codigo_pessoa"
   		 referencedTableName="pessoa" 
   		 referencedColumnNames="codigo"
   		 baseTableName="passageiro" 
   		 baseColumnNames="codigo_pessoa" /> 
	 <addForeignKeyConstraint constraintName="fk_codigo_passageiro"
 		 referencedTableName="passageiro" 
 		 referencedColumnNames="codigo"
 		 baseTableName="passageiro" 
 		 baseColumnNames="codigo_passageiro" />
  </changeSet>
  
</databaseChangeLog>